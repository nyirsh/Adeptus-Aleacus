<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Warhammer 40Dice</title>
    <link href="./css/dice.css" rel="stylesheet" type="text/css">
    <link href="./css/bootstrap-dark.min.css" rel="stylesheet" type="text/css">
    <link href="./css/switchery.min.css" rel="stylesheet" type="text/css">
    <link href="./css/icons.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/dice.js"></script>
    <script type="text/javascript" src="./js/Chart.js"></script>
    <script type="text/javascript" src="./js/jquery.bootstrap-touchspin.min.js"></script>
    <script type="text/javascript" src="./js/switchery.min.js"></script>

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./img/logo.png">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="./img/logo.png">
    <link rel="icon" type="image/png" href="./img/logo.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./img/logo.png" sizes="16x16">
</head>
<body data-layout="horizontal" data-topbar="dark">
    <div id="wrapper">
        <header id="topnav">
            <div class="navbar-custom">
                <div class="container-fluid">
                    <div class="logo-box">
                        <a href="index.html" class="logo logo-light">
                            <span class="logo-lg">
                                <img src="./img/logo.png" alt="" height="50">
                            </span>
                            <span class="logo-sm">
                                <img src="./img/logo.png" alt="" height="50">
                            </span>
                        </a>
                    </div>
                    <ul class="list-unstyled topnav-menu mb-0">
                        <li class="dropdown notification-list">
                            <a class="nav-link dropdown-toggle nav-user mr-0 waves-effect" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                                <span class="site-title">
                                    Warhammer 40Dice
                                </span>
                            </a>
                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
            </div>
        </header>
        <div class="content-page">
            <div class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-xl-6 col-md-12">
                            <div class="card-box">
                                <h4 class="header-title mt-0 mb-4">Attacker</h4>
                                <div class="form-row">
                                    <div class="form-group col-md-2">
                                        <label for="attacks" class="col-form-label">Attacks</label>
                                        <input type="text" class="form-control" id="attacks" placeholder="Ex: 4, 2d6, 3+d3">
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="bs" class="col-form-label">BS/WS</label>
                                        <input type="text" class="form-control" id="bs" placeholder="Auto" is-zero-spinner="true">
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="s" class="col-form-label">Strenght</label>
                                        <input type="text" class="form-control" id="s" placeholder="Auto" is-spinner="true">
                                    </div>

                                    <div class="form-group col-md-2">
                                        <label for="ap" class="col-form-label">AP</label>
                                        <input type="text" class="form-control" id="ap" value="0" is-negative-spinner="true">
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="d" class="col-form-label">Damage</label>
                                        <input type="text" class="form-control" id="d" placeholder="Ex: 2, 2d6, 3+d3">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-2">
                                        <label for="hit_mod" class="col-form-label">Hit Modifier</label>
                                        <input type="text" class="form-control" id="hit_mod" placeholder="Ex: 1, -2" value="0" is-free-spinner="true">
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="hit_of_6" class="col-form-label">Hit rolls of 6</label>
                                        <select id="hit_of_6" class="form-control">
                                            <option value="">Nothing</option>
                                            <option value="1roll">1 extra hit roll</option>
                                            <option value="1">1 extra hit</option>
                                            <option value="2">2 extra hits</option>
                                            <option value="autowound">Auto-pass wound roll</option>
                                            <option value="+mortal">1 additional mortal wound</option>
                                            <option value="mortal">Damage as mortal wounds</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="hit_reroll" class="col-form-label">Reroll</label>
                                        <select id="hit_reroll" class="form-control">
                                            <option value="">No hit rolls</option>
                                            <option value="1">Hit rolls of 1</option>
                                            <option value="fail">Failed hit rolls</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-2">
                                        <label for="wound_mod" class="col-form-label">Wounds Modifier</label>
                                        <input type="text" class="form-control" id="wound_mod" placeholder="Ex: 4, 2d6" value="1" is-free-spinner="true">
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="wound_of_6" class="col-form-label">Wound rolls of 6</label>
                                        <select id="wound_of_6" class="form-control">
                                            <option value="">Nothing</option>
                                            <option value="-1">-1 AP</option>
                                            <option value="-3">-3 AP</option>
                                            <option value="-4">-4 AP</option>
                                            <option value="+mortal">1 extra mortal wound</option>
                                            <option value="mortal">Damage as mortal wounds</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="wound_reroll" class="col-form-label">Reroll</label>
                                        <select id="wound_reroll" class="form-control">
                                            <option value="">No wound rolls</option>
                                            <option value="1">Wound rolls of 1</option>
                                            <option value="fail">Failed wound rolls</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-6 col-md-12">
                            <div class="card-box">
                                <h4 class="header-title mt-0 mb-4">Defender</h4>
                                <div class="form-row">
                                    <div class="form-group col-md-2">
                                        <label for="t" class="col-form-label">Toughness</label>
                                        <input type="text" class="form-control" id="t" placeholder="Ex: 4, leave blank to auto-wound" value="1" is-spinner="true">
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="save" class="col-form-label">Save</label>
                                        <input type="text" class="form-control" id="save" placeholder="Ex: 4" value="1" is-spinner="true">
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="invulnerable" class="col-form-label">Invulnerable</label>
                                        <input type="text" class="form-control" id="invulnerable" placeholder="Ex: 4, leave blank to auto-wound" value="0" is-zero-spinner="true">
                                    </div>

                                    <div class="form-group col-md-2">
                                        <label for="wounds" class="col-form-label">Wounds</label>
                                        <input type="text" class="form-control" id="wounds" placeholder="Ex: 1, 13, leave blank if you don't care" value="0" is-zero-spinner="true">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-2">
                                        <label for="save_mod" class="col-form-label">Save Modifier</label>
                                        <input type="text" class="form-control" id="save_mod" placeholder="Ex: 1, -2" value="0" is-free-spinner="true">
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label for="cover" class="col-form-label">Cover</label>
                                        <div style="width: 100%; padding-top: 7px;">
                                            <input type="checkbox" id="cover" value="0" class="js-switch">
                                        </div>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="save_reroll" class="col-form-label">Reroll</label>
                                        <select id="save_reroll" class="form-control">
                                            <option value="">No save rolls</option>
                                            <option value="1">Any save rolls of 1</option>
                                            <option value="fail">Any failed save rolls</option>
                                            <option value="inv_1">Invulnerable save rolls of 1</option>
                                            <option value="inv_fail">Failed invulnerable save rolls</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="shake" class="col-form-label">Feel No Pain</label>
                                        <select id="shake" class="form-control">
                                            <option value="">Never</option>
                                            <option value="6">On a roll of 6</option>
                                            <option value="56">On a roll of 5 or 6</option>
                                            <option value="quantum">Roll under the damage value</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-block btn-primary waves-effect waves-light" onclick="roll_40k()">
                                <i class="fas fa-dice mr-1"></i>
                                <span>Roll</span>
                            </button>
                        </div>
                    </div>
                    <div class="row" id="results" style="display: none;">
                        <div class="col-md-12">
                            <div class="card-box">
                                <h4 class="header-title mt-0 mb-4">Results</h4>
                                <div class="row">
                                    <div class="col-xl-2 col-md-12">
                                        <canvas id="attack_chart" width="200" height="200" style="display: block; width: 200px; height: 200px;"></canvas>
                                        <p class="text-muted font-14 mb-3" id="attack_text"></p>
                                    </div>
                                    <div class="col-xl-2 col-md-12">
                                        <canvas id="hit_chart" width="200" height="200" style="display: block; width: 200px; height: 200px;"></canvas>
                                        <p class="text-muted font-14 mb-3" id="hit_text"></p>
                                    </div>
                                    <div class="col-xl-2 col-md-12">
                                        <canvas id="wound_chart" width="200" height="200" style="display: block; width: 200px; height: 200px;"></canvas>
                                        <p class="text-muted font-14 mb-3" id="wound_text"></p>
                                    </div>
                                    <div class="col-xl-2 col-md-12">
                                        <canvas id="unsaved_chart" width="200" height="200" style="display: block; width: 200px; height: 200px;"></canvas>
                                        <p class="text-muted font-14 mb-3" id="unsaved_text"></p>
                                    </div>
                                    <div class="col-xl-2 col-md-12">
                                        <canvas id="damage_chart" width="200" height="200" style="display: block; width: 200px; height: 200px;"></canvas>
                                        <p class="text-muted font-14 mb-3" id="damage_text"></p>
                                    </div>
                                    <div class="col-xl-2 col-md-12">
                                        <canvas id="killed_chart" width="200" height="200" style="display: block; width: 200px; height: 200px;"></canvas>
                                        <p class="text-muted font-14 mb-3" id="killed_text"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <a href="https://www.games-workshop.com/Warhammer-40-000">Warhammer 40000</a> is © Games Workshop Limited. I do NOT own any rights to the product and I do NOT any payment fees for it.<br>
                </div>
                <div class="col-md-6">
                    <div class="text-md-right footer-links d-none d-sm-block">
                        <a href="https://github.com/nyirsh/Warhammer-40Dice/issues/new">Report an Issue</a>
                        <a href="https://github.com/nyirsh/Warhammer-40Dice/wiki">Help</a>
                        <a href="https://www.linkedin.com/in/davide-nyirsh-villa/">About Me</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        init_40k();

        $("input[is-spinner='true']").TouchSpin({
            min: 1,
            max: 99,
            stepinterval: 1,
        });

        $("input[is-zero-spinner='true']").TouchSpin({
            min: 0,
            max: 99,
            stepinterval: 1,
        });

        $("input[is-free-spinner='true']").TouchSpin({
            min: -99,
            max: 99,
            stepinterval: 1,
        });

        $("input[is-negative-spinner='true']").TouchSpin({
            min: -99,
            max: 0,
            stepinterval: 1,
        });

        var elems = document.querySelectorAll('.js-switch');
        for (var i = 0; i < elems.length; i++) {
            var switchery = new Switchery(elems[i], { size: 'small', color: '#71b6f9' });
        }
    </script>
</body>
</html>